# Snapshot: Root Cause Analysis - The "Edit Project" Misclick Trap

**Time**: 2026-01-14 23:59 GMT+7
**Context**: TikTok Shop Automation - Debugging `v4.3 Universal Identity` failure in Google Flow settings.

## üîç Root Cause Analysis (‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏ó‡∏µ‡πà‡πÅ‡∏ó‡πâ‡∏à‡∏£‡∏¥‡∏á)

‡πÅ‡∏°‡πâ‡∏à‡∏∞‡πÉ‡∏ä‡πâ `Universal Identity Logic` ‡πÅ‡∏•‡πâ‡∏ß ‡πÅ‡∏ï‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏¢‡∏±‡∏á‡πÑ‡∏õ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° **"Edit project"** ‡∏ó‡∏µ‡πà‡∏°‡∏∏‡∏°‡∏ã‡πâ‡∏≤‡∏¢‡∏ö‡∏ô (Title Bar) ‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏∏‡πà‡∏° **"Tune"** (Settings) ‡∏Ç‡∏≠‡∏á Prompt ‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ:

### 1. Identity Ambiguity (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏≥‡∏Å‡∏ß‡∏°‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡∏ï‡∏ô)
- ‡∏õ‡∏∏‡πà‡∏° **"Edit project"** ‡∏°‡∏µ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥ `aria-haspopup="dialog"` ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ö‡∏õ‡∏∏‡πà‡∏° **"Tune"**
- ‡πÉ‡∏ô‡∏ó‡∏≤‡∏á Accessibility (A11y), ‡∏õ‡∏∏‡πà‡∏°‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ‡∏°‡∏±‡∏Å‡∏°‡∏µ Hidden Span ‡∏´‡∏£‡∏∑‡∏≠ ARIA Label ‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏ß‡πà‡∏≤ **"Settings"** ‡∏´‡∏£‡∏∑‡∏≠ **"Project Settings"** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ö‡∏≠‡∏Å‡∏Ñ‡∏ô‡∏ï‡∏≤‡∏ö‡∏≠‡∏î‡∏ß‡πà‡∏≤‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏õ‡∏∏‡πà‡∏°‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤
- ‡πÄ‡∏°‡∏∑‡πà‡∏≠ Script ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ `settings` ‡∏à‡∏∂‡∏á‡πÑ‡∏õ‡πÄ‡∏à‡∏≠ "‡∏õ‡∏∏‡πà‡∏°‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£" ‡πÄ‡∏Ç‡πâ‡∏≤‡πÇ‡∏î‡∏¢‡∏ö‡∏±‡∏á‡πÄ‡∏≠‡∏¥‡∏ç

### 2. DOM Traversal Order (‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á)
- Browser ‡πÇ‡∏´‡∏•‡∏î DOM ‡∏à‡∏≤‡∏Å‡∏ö‡∏ô‡∏•‡∏á‡∏•‡πà‡∏≤‡∏á (Top-to-Bottom)
- ‡∏™‡πà‡∏ß‡∏ô Header (Title Bar) ‡∏à‡∏∞‡∏õ‡∏£‡∏≤‡∏Å‡∏è‡∏Å‡πà‡∏≠‡∏ô‡∏™‡πà‡∏ß‡∏ô Content (Prompt Input) ‡πÉ‡∏ô HTML structure
- ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏±‡πà‡∏á `document.querySelectorAll`, ‡∏õ‡∏∏‡πà‡∏° **"Edit project"** ‡∏à‡∏∂‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô Index ‡∏ó‡∏µ‡πà 0 (First Match)
- Logic ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡πÉ‡∏ä‡πâ `break` ‡∏´‡∏•‡∏±‡∏á‡∏û‡∏ö Match ‡πÅ‡∏£‡∏Å ‡∏ó‡∏≥‡πÉ‡∏´‡πâ Script ‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏ó‡∏µ‡πà‡πÄ‡∏à‡∏≠ Header Button

### 3. Exclusion Logic Gap
- `v4.3` ‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏≠‡∏á‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ "veo" ‡πÅ‡∏•‡∏∞ "imagen" ‡∏≠‡∏≠‡∏Å‡πÑ‡∏õ‡πÑ‡∏î‡πâ‡∏î‡∏µ ‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏Å‡∏£‡∏≠‡∏á‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô **Header/Title** ‡∏´‡∏£‡∏∑‡∏≠ **Project Settings**
- ‡∏õ‡∏∏‡πà‡∏° "Edit project" ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏°‡∏µ‡∏Ñ‡∏≥‡∏ï‡πâ‡∏≠‡∏á‡∏´‡πâ‡∏≤‡∏° ‡∏à‡∏∂‡∏á‡∏ú‡πà‡∏≤‡∏ô‡∏î‡πà‡∏≤‡∏ô‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡πÑ‡∏î‡πâ 100%

## üõ°Ô∏è Strategic Pivot (‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï)

‡πÄ‡∏£‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å **Identity Only** ‡πÄ‡∏õ‡πá‡∏ô **Identity + Contextual Grounding**:
- **Distance Filtering**: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ `top` ‡∏Ç‡∏≠‡∏á‡∏õ‡∏∏‡πà‡∏° ‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏°‡πà‡∏´‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å `top` ‡∏Ç‡∏≠‡∏á Textarea ‡∏°‡∏≤‡∏Å‡∏à‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ (‡πÄ‡∏ä‡πà‡∏ô < 150px)
- **Container Exclusion**: ‡∏Å‡∏£‡∏≠‡∏á Element ‡∏ó‡∏µ‡πà‡∏°‡∏µ Parent ‡πÄ‡∏õ‡πá‡∏ô `<header>` ‡∏´‡∏£‡∏∑‡∏≠‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ Class ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö `top-bar`
- **Strict Icon Priority**: ‡πÉ‡∏´‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Å‡∏±‡∏ö‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô `tune` ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ `settings` ‡πÉ‡∏ô‡∏Å‡∏£‡∏ì‡∏µ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏´‡∏•‡∏≤‡∏¢‡∏õ‡∏∏‡πà‡∏°‡∏õ‡∏£‡∏≤‡∏Å‡∏è‡∏Ç‡∏∂‡πâ‡∏ô‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô

## Tags
`root-cause-analysis` `dom-trap` `identity-ambiguity` `google-flow` `a11y-misinterpretation`
