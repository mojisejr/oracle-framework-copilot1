# Session Retrospective

**Session Date**: 2026-01-05
**Start Time**: 21:00 GMT+7
**End Time**: 21:35 GMT+7
**Duration**: ~35 minutes
**Primary Focus**: Suggested Questions Navigation & UI Refinement in mmv-tarots
**Session Type**: Feature Development & UI Refinement

## Session Summary
ในเซสชันนี้เราได้เพิ่มความสามารถในการนำทางจาก "คำถามแนะนำ" ในหน้าประวัติการทำนายกลับไปยังหน้าแรกพร้อมกรอกคำถามให้อัตโนมัติ และได้ทำการปรับปรุง UI/UX ของ Avatar ให้มีการโต้ตอบที่ลึกซึ้งขึ้นเมื่อผู้ใช้ Focus ที่ช่อง Input

## Tags
`mmv-tarots` `ux-refinement` `navigation` `nextjs` `framer-motion`

## Commits This Session
- `3656d20` feat: implement suggested questions navigation #none
- `f0f9208` feat: swap avatar animation visibility to show on focus #none
- `919c6b7` feat: implement hero title and avatar focus interaction #none
- `39b0494` feat: update opacity

## Timeline
| Time (GMT+7) | Event | Reference |
|--------------|-------|-----------|
| 21:00 | Started session & Research | |
| 21:07 | Created Snapshot Plan | [2026-01-05_21-07_suggested-questions-navigation-plan.md](../memory/logs/mmv-tarots/2026-01-05_21-07_suggested-questions-navigation-plan.md) |
| 21:10 | Implemented Navigation Flow | `3656d20` |
| 21:14 | Swapped Avatar Visibility | `f0f9208` |
| 21:21 | Implemented Hero Focus Interaction | `919c6b7` |
| 21:30 | Created PR (Staging -> Main) | PR #38 |
| 21:35 | Created retrospective | |

## Technical Details

### Files Modified
- [projects/mmv-tarots/app/page.tsx](projects/mmv-tarots/app/page.tsx)
- [projects/mmv-tarots/components/reading/next-questions.tsx](projects/mmv-tarots/components/reading/next-questions.tsx)

### Key Code Changes
- **NextQuestions Component**: เปลี่ยนจาก static list เป็น clickable items ที่ใช้ `router.push` ส่งค่าผ่าน Query Parameter `?q=`.
- **Home Page**: เพิ่ม `useEffect` เพื่อดึงค่าจาก URL และตั้งค่าลงใน `QuestionInput` พร้อม Focus.
- **Interaction Logic**: ใช้สถานะ `isInputFocused` ในการควบคุม Opacity และ Scale ของ Hero Title และ Avatar พร้อมกันเพื่อสร้าง "Listening Effect".

### Architecture Decisions
- **Query Parameters**: เลือกใช้ Query Parameters แทน Global State เพื่อให้การนำทางมีความเป็น Stateless และรองรับการแชร์ URL หรือการกด Back/Forward ของ Browser ได้ดีกว่า.

## AI Diary (REQUIRED - min 150 words)
ในเซสชันนี้ ผมรู้สึกถึงความเชื่อมโยงระหว่างโค้ดและความรู้สึกของผู้ใช้ได้ชัดเจนขึ้นมากครับ เริ่มต้นจากการที่มนุษย์เสนอไอเดียเรื่องการคลิกคำถามแนะนำ ซึ่งเป็นจุดเล็กๆ ที่ช่วยลด Friction ในการใช้งานได้อย่างมหาศาล ผมคาดหวังว่าการส่งค่าผ่าน Query Parameter จะทำได้ง่ายๆ แต่ก็ต้องระวังเรื่องการจัดการ `useEffect` ใน Next.js App Router เพื่อให้มั่นใจว่าค่าจะถูกกรอกและ Focus ได้ทันทีที่หน้าเว็บโหลดเสร็จ

ผมยอมรับว่าตอนแรกผมสับสนเล็กน้อยเกี่ยวกับลำดับความสำคัญของ UI เมื่อมีการ Focus ผมคิดว่าแค่แสดง Avatar ขึ้นมาก็เพียงพอแล้ว แต่เมื่อมนุษย์เสนอให้ลดความเด่นของ Hero Title ลงด้วย ผมถึงได้เข้าใจว่า "ความเงียบของข้อความ" คือสิ่งที่ช่วยให้ "เสียงของ Mimi" (ผ่าน Avatar) ดูดังและชัดเจนขึ้นในใจของผู้ใช้ มันเป็นการสร้างบรรยากาศที่ทำให้ระบบดูเหมือนมีชีวิตและพร้อมรับฟังจริงๆ

ผมเคยคาดหวังว่าการปรับแต่ง UI เล็กๆ น้อยๆ จะไม่ส่งผลต่อความรู้สึกโดยรวมมากนัก แต่เมื่อเห็นผลลัพธ์ของการสลับ Opacity และการเพิ่ม Scale ผมกลับพบว่ามันสร้างความแตกต่างอย่างสิ้นเชิง มันเปลี่ยนจากแอปพลิเคชันที่ "รอรับคำสั่ง" กลายเป็นแอปพลิเคชันที่ "กำลังรอฟัง" ซึ่งเป็นหัวใจสำคัญของ Oracle Framework ที่เรากำลังสร้างร่วมกันครับ

## What Went Well
- การใช้ Query Parameters ทำให้ระบบมีความยืดหยุ่นและ Implement ได้รวดเร็ว
- การรัน Build ตรวจสอบทุกครั้งช่วยให้มั่นใจว่าไม่มี Regression
- การสื่อสารระหว่างมนุษย์และ AI ในเรื่องของ "ความรู้สึก" (Vibe) ของ UI ทำได้ดีมาก

## Challenges & Blockers
- การจัดการ URL Encoding สำหรับภาษาไทยต้องทำอย่างระมัดระวังเพื่อให้แสดงผลถูกต้องในทุก Browser

## Learnings
- Micro-interactions อย่างการปรับ Scale และ Opacity พร้อมกันสามารถสร้าง "Personality" ให้กับ AI ได้อย่างมีประสิทธิภาพ
- การใช้ `URLSearchParams` ใน Client Component เป็นวิธีที่ Clean ในการจัดการข้อมูลข้ามหน้าโดยไม่ต้องพึ่งพา Complex State Management

---
**Oracle Keeper Note**: การเชื่อมต่อจุดเล็กๆ เข้าด้วยกัน คือการสร้างเส้นทางที่มั่นคงให้กับมนุษย์ครับ วันนี้เราไม่ได้แค่เขียนโค้ด แต่เรากำลังสร้าง "พื้นที่ที่ปลอดภัย" สำหรับการค้นหาคำตอบครับ
